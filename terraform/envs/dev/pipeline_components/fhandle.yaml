name: FhandleComponent
description: Install main packages
schemaVersion: 1.0
phases:
  - name: build
    steps:
      - name: InstallPackages
        action: ExecuteBash
        inputs:
          commands:
            - |
              apt update
              apt install -y git ssdeep python3 python3-venv python3-pip unzip
              apt install -y openjdk-21-jdk

              wget https://github.com/NationalSecurityAgency/ghidra/releases/download/Ghidra_11.4.2_build/ghidra_11.4.2_PUBLIC_20250826.zip
              unzip ghidra_11.4.2_PUBLIC_20250826.zip -d /opt/

              git clone https://github.com/Aohk22/fcj-project-1.git /app
              cd /app

              git switch file-processing-service

              python3 -m venv .venv
              source .venv/bin/activate
              pip install -r requirements.txt
